---
import clsx from "clsx";

const { quote, attribution, className, id, ariaLabel, customStyle } = Astro.props;

const classAttr = clsx("testimonial", className);
---

<blockquote
  class={classAttr}
  {...customStyle ? { style: customStyle } : {}}
  {...id ? { id: id } : {}}
  {...ariaLabel ? { "aria-label": ariaLabel } : {}}
>
  <p class="testimonial__quote">
    "{quote}"
  </p>
  <cite class="testimonial__author">
    <strong class="testimonial__name">
      {attribution.name}
    </strong>
    {
      attribution.description && (
        <span class="testimonial__description">{attribution.description}</span>
      )
    }
  </cite>
</blockquote>

<style>
  @layer components {
    .testimonial {
      margin: 0;
      padding: 1.5rem;
      border-radius: 0.5rem;
      font-family:
        system-ui,
        -apple-system,
        sans-serif;
    }

    .testimonial__quote {
      margin: 0 0 1rem 0;
      font-size: 1.125rem;
      line-height: 1.6;
      color: #111827;
      font-style: italic;
    }

    .testimonial__author {
      display: block;
      font-style: normal;
      color: #374151;
      font-size: 0.875rem;
    }

    .testimonial__name {
      display: block;
      font-weight: 600;
      color: #111827;
      margin-bottom: 0.25rem;
    }

    .testimonial__description {
      display: block;
      font-size: 0.8125rem;
      color: #6b7280;
    }
  }
</style>
